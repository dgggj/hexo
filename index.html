<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>牧羊少年的代码之旅 - 春风也有春风忧</title><meta name="keywords" content="博客"><meta name="author" content="chy_lua"><meta name="copyright" content="chy_lua"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="好看的皮囊、有趣的灵魂、优美的代码">
<meta property="og:type" content="website">
<meta property="og:title" content="牧羊少年的代码之旅">
<meta property="og:url" content="https://dgggj.github.io/index.html">
<meta property="og:site_name" content="牧羊少年的代码之旅">
<meta property="og:description" content="好看的皮囊、有趣的灵魂、优美的代码">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://blog-chy-lua.oss-cn-shanghai.aliyuncs.com/images/touxiang.jpeg">
<meta property="article:author" content="chy_lua">
<meta property="article:tag" content="博客">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://blog-chy-lua.oss-cn-shanghai.aliyuncs.com/images/touxiang.jpeg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://dgggj.github.io/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '牧羊少年的代码之旅',
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2022-09-17 22:59:58'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><link rel="stylesheet" href="https://csdn.jsdeliver.net/gh/constown/HexoCustomFile@0.0.4/dist/css/custom.min.css"><meta name="generator" content="Hexo 6.1.0"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://blog-chy-lua.oss-cn-shanghai.aliyuncs.com/images/touxiang.jpeg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data is-center"><div class="data-item"><a href="/archives/"><div class="headline">文章</div><div class="length-num">16</div></a></div><div class="data-item"><a href="/tags/"><div class="headline">标签</div><div class="length-num">8</div></a></div><div class="data-item"><a href="/categories/"><div class="headline">分类</div><div class="length-num">7</div></a></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa fa-heartbeat"></i><span> 清单</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/link/"><i class="fa-fw fa fa-link"></i><span> 友人帐</span></a></li><li><a class="site-page child" href="/share/"><i class="fa-fw fas fa-share"></i><span> 分享</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/messageboard/"><i class="fa-fw fas fa-comment-dots"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-user-tag"></i><span> 关于作者</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="full_page" id="page-header" style="background-image: url('https://blog-chy-lua.oss-cn-shanghai.aliyuncs.com/images/cover18.png')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">牧羊少年的代码之旅</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa fa-heartbeat"></i><span> 清单</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/link/"><i class="fa-fw fa fa-link"></i><span> 友人帐</span></a></li><li><a class="site-page child" href="/share/"><i class="fa-fw fas fa-share"></i><span> 分享</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/messageboard/"><i class="fa-fw fas fa-comment-dots"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-user-tag"></i><span> 关于作者</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="site-info"><h1 id="site-title">牧羊少年的代码之旅</h1><div id="site-subtitle"><span id="subtitle"></span></div><div id="site_social_icons"><a class="social-icon" href="https://github.com/dgggj" target="_blank" title="GitHub"><i class="fab fa-github"></i></a><a class="social-icon" href="/1164695032" target="_blank" title="QQ：1164695032"><i class="fab fa-qq"></i></a><a class="social-icon" href="https://blog.csdn.net/weixin_44815328" target="_blank" title="我的CSDN"><i class="fa fa-address-card"></i></a></div></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="post_cover left"><a href="/2022/09/17/%E8%99%9A%E6%8B%9F%E6%9C%BA%E7%AF%87-1/" title="虚拟机篇-1"><img class="post_bg" src="https://blog-chy-lua.oss-cn-shanghai.aliyuncs.com/images/a3.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="虚拟机篇-1"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/09/17/%E8%99%9A%E6%8B%9F%E6%9C%BA%E7%AF%87-1/" title="虚拟机篇-1">虚拟机篇-1</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-09-17T14:53:57.000Z" title="发表于 2022-09-17 22:53:57">2022-09-17</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-09-17T14:56:46.561Z" title="更新于 2022-09-17 22:56:46">2022-09-17</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E9%9D%A2%E8%AF%95%E9%A2%98/">面试题</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/java/">java</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/%E9%9D%A2%E8%AF%95%E9%A2%98/">面试题</a></span></div><div class="content">虚拟机篇1. JVM 内存结构要求

掌握 JVM 内存结构划分
尤其要知道方法区、永久代、元空间的关系

结合一段 java 代码的执行理解内存划分


执行 javac 命令编译源代码为字节码
执行 java 命令
创建 JVM，调用类加载子系统加载 class，将类的信息存入方法区
创建 main 线程，使用的内存区域是 JVM 虚拟机栈，开始执行 main 方法代码
如果遇到了未见过的类，会继续触发类加载过程，同样会存入方法区
需要创建对象，会使用堆内存来存储对象
不再使用的对象，会由垃圾回收器在内存不足时回收其内存
调用方法时，方法内的局部变量、方法参数所使用的是  JVM 虚拟机栈中的栈帧内存
调用方法时，先要到方法区获得到该方法的字节码指令，由解释器将字节码指令解释为机器码执行
调用方法时，会将要执行的指令行号读到程序计数器，这样当发生了线程切换，恢复时就可以从中断的位置继续
对于非 java 实现的方法调用，使用内存称为本地方法栈（见说明）
对于热点方法调用，或者频繁的循环代码，由 JIT 即时编译器将这些代码编译成机器码缓存，提高执行性能



说明

加粗字体代表了 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2022/09/13/day2%E7%94%A8%E5%8F%8B/" title="day2用友"><img class="post_bg" src="https://blog-chy-lua.oss-cn-shanghai.aliyuncs.com/images/a2.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="day2用友"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/09/13/day2%E7%94%A8%E5%8F%8B/" title="day2用友">day2用友</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-09-13T14:33:27.000Z" title="发表于 2022-09-13 22:33:27">2022-09-13</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-09-13T14:39:44.966Z" title="更新于 2022-09-13 22:39:44">2022-09-13</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E9%9D%A2%E8%AF%95%E9%A2%98/">面试题</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/java/">java</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/%E9%9D%A2%E8%AF%95%E9%A2%98/">面试题</a></span></div><div class="content">1死锁
不同的线程分别占用对方需要的资源不放弃，都在等待对方放弃自己需要的同步资源形成线程的死锁
死锁后，不会出现异常，不会出现提示，所有的线程都处于阻塞状态，无法继续

代码：
12345678910111213141516171819202122232425262728293031323334353637public class ThreadTest&#123;  public static void main(String[] args)&#123;    StringBuffer s1=new StringBuffer();    StringBuffer s2=new StringBuffer();    new Thread(()-&gt;&#123;      synchronized(s1)&#123;        s1.append(&quot;a&quot;);        s2.append(&quot;1&quot;);        try&#123;          Thread.sleep(100);        &#125;catch(Inter ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2022/09/08/%E9%9D%A2%E8%AF%951/" title="面试1"><img class="post_bg" src="https://blog-chy-lua.oss-cn-shanghai.aliyuncs.com/images/a5.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="面试1"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/09/08/%E9%9D%A2%E8%AF%951/" title="面试1">面试1</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-09-08T14:44:20.000Z" title="发表于 2022-09-08 22:44:20">2022-09-08</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-09-08T14:48:32.577Z" title="更新于 2022-09-08 22:48:32">2022-09-08</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E9%9D%A2%E8%AF%95%E9%A2%98/">面试题</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/java/">java</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/%E9%9D%A2%E8%AF%95%E9%A2%98/">面试题</a></span></div><div class="content">1.数据库和缓存一致性1.命中：程序从缓存中读取数据，如果命中，则直接返回
2.失效：程序从缓存中读取数据，如果没有命中，则从数据库中读取，成功之后将数据放到缓存中
3.更新：程序先更新更新数据库，再删除缓存。
更新：
1.先更新缓存，再更新数据库。
如果先更新缓存，但更新数据库的时候失败了，这个时候需要回滚，也要把Redis缓存的回滚了，但Redis的缓存有可能是做过很多计算才得到缓存在里面，如果回滚，那就白算了。
2.先更新数据库，再更新缓存。

如上图所示，如果线程A更新完数据库，CPU的资源被线程2获得，并执行更新数据库和缓存，线程1再获取cpu资源时更新了缓存，最终会出现数据库为2缓存是1的状况。此时缓存中的1是脏数据。
（3）先删除缓存，再更新数据库

线程A先删除缓存后，Cpu资源就被线程B获得，线程B在缓存中找不到数据，就去数据库中读取旧值，线程A又获取cpu，把A&#x3D;2更新到数据库中。线程B再获取cpu资源，他要把A&#x3D;1写到缓存中。此时数据库为2，缓存为1
（4）先更新数据库，再删除缓存
也会出现一些问题，但机率有点小,因为读的速度一般会比更新速度快 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2022/08/03/Java%E5%86%85%E5%AD%98%E6%A8%A1%E5%9E%8B-JMM/" title="Java内存模型-JMM"><img class="post_bg" src="https://blog-chy-lua.oss-cn-shanghai.aliyuncs.com/images/a15.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Java内存模型-JMM"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/08/03/Java%E5%86%85%E5%AD%98%E6%A8%A1%E5%9E%8B-JMM/" title="Java内存模型-JMM">Java内存模型-JMM</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-08-03T15:49:55.000Z" title="发表于 2022-08-03 23:49:55">2022-08-03</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-08-04T00:53:20.022Z" title="更新于 2022-08-04 08:53:20">2022-08-04</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E9%9D%A2%E8%AF%95%E9%A2%98/">面试题</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/java/">java</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/%E9%9D%A2%E8%AF%95%E9%A2%98/">面试题</a></span></div><div class="content">JMM1.什么是JMM?JMM(java内存模型)是一种符合计算机内存模型规范的，屏蔽了各种硬件和操作系统的访问内存差异的，保证java程序在各种平台下对内存的访问都能得到一致性效果的一种机制以及规范。目的是解决多线程通过内存共享进行通讯时存在的一些原子性、有序性、可见性的问题
每个线程的工作内存都是独立的，线程操作数据只能在工作内存中进行，然后刷回到主存。这是 Java 内存模型定义的线程基本工作方式。
整个Java内存模型实际上是围绕着三个特征建立起来的。分别是：原子性，可见性，有序性。这三个特征可谓是整个Java并发的基础。
2.三大特性2.1原子性原子性指的是一个操作是不可分割，不可中断的，一个线程在执行时不会被其他线程干扰
如
1234int i=2;  //原子性int j=i;  //先读取i的值，再赋值到j，两步操作，不能保证原子性i++;	  //不能保证原子性i=i+1;	  //不能保证原子性

JMM只能保证基本的原子性，如果要保证一个代码块的原子性，提供了monitorenter 和 moniterexit 两个字节码指令，也就是 synchronized 关 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2022/07/27/23%E7%A7%8D%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" title="23种设计模式"><img class="post_bg" src="https://blog-chy-lua.oss-cn-shanghai.aliyuncs.com/images/a9.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="23种设计模式"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/07/27/23%E7%A7%8D%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" title="23种设计模式">23种设计模式</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-07-27T15:34:29.000Z" title="发表于 2022-07-27 23:34:29">2022-07-27</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-08-04T00:52:42.501Z" title="更新于 2022-08-04 08:52:42">2022-08-04</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E9%9D%A2%E8%AF%95%E9%A2%98/">面试题</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/java/">java</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/%E9%9D%A2%E8%AF%95%E9%A2%98/">面试题</a></span></div><div class="content">23种设计模式1学习设计模式的意义1.1什么是设计模式
设计模式是前辈们对代码开发经验的总结，是解决特定问题的一系列套路。他不是语法规定，而是一套用来提高代码可重复性、可维护性、可读性、稳健性以及安全性的解决方案

1.2设计模式的本质设计模式本质是面向对象设计原则的实际应用，是对类的封装性、继承性和多态性以及类的关联关系和组合关系的充分理解
1.3设计模式的优点
可以提高程序员的思维能力、编程能力和设计能力
使程序设计更加标准化、代码编制更加工程化，使软件的开发效率大大提高，从而缩短软件的开发周期
使设计的代码可重用性高、可读性强、可靠性高、灵活性好、可维护性强

设计模式的基本要素

模式名称
问题
解决方案
效果

1.4 23种设计模式
创建型模式：主要为了对象的创建和使用分离
单例模式、工厂模式、抽象工厂模式、建造者模式、原型模式


结构型模式：主要为了把我们的类或者对象按照某种方式组成一个更大的结构
适配器模式、桥接模式、装饰模式、组合模式、外观模式、享元模式、代理模式


行为模式：描述类或者对象之间如何相互协作完成单个对象无法完成的事
模板方法模式、命令模式、迭代器模 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2022/07/12/%E7%BA%BF%E7%A8%8B%E7%9A%84%E5%85%AD%E7%A7%8D%E7%8A%B6%E6%80%81%EF%BC%88java%EF%BC%89/" title="线程的六种状态（java）"><img class="post_bg" src="https://blog-chy-lua.oss-cn-shanghai.aliyuncs.com/images/a10.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="线程的六种状态（java）"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/07/12/%E7%BA%BF%E7%A8%8B%E7%9A%84%E5%85%AD%E7%A7%8D%E7%8A%B6%E6%80%81%EF%BC%88java%EF%BC%89/" title="线程的六种状态（java）">线程的六种状态（java）</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-07-12T15:17:12.000Z" title="发表于 2022-07-12 23:17:12">2022-07-12</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-08-03T15:59:03.492Z" title="更新于 2022-08-03 23:59:03">2022-08-03</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E9%9D%A2%E8%AF%95%E9%A2%98/">面试题</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/java/">java</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/%E9%9D%A2%E8%AF%95%E9%A2%98/">面试题</a></span></div><div class="content">1线程六种状态
初始(NEW)：新创建了一个线程对象，但还没有调用start()方法。
运行(RUNNABLE)：Java线程中将就绪（ready）和运行中（running）两种状态笼统的称为“运行”。线程对象创建后，其他线程(比如main线程）调用了该对象的start()方法。该状态的线程位于可运行线程池中，等待被线程调度选中，获取CPU的使用权，此时处于就绪状态（ready）。就绪状态的线程在获得CPU时间片后变为运行中状态（running）。
阻塞(BLOCKED)：表示线程阻塞于锁。
等待(WAITING)：进入该状态的线程需要等待其他线程做出一些特定动作（通知或中断）。
计时等待(TIMED_WAITING)：该状态不同于WAITING，它可以在指定的时间后自行返回。
终止(TERMINATED)：表示该线程已经执行完毕。

可以通过getState()方法获取线程当前状态。任何线程当前只能属于一种状态。

1. 初始状态(NEW)实现Runnable接口和继承Thread可以得到一个线程类，new一个实例出来，线程就进入了初始状态。
2运行状态
就绪状态(RUNNABLE之 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2022/04/15/Stream%E6%B5%81%E5%BC%8F%E7%BC%96%E7%A8%8B/" title="Stream流式编程"><img class="post_bg" src="https://blog-chy-lua.oss-cn-shanghai.aliyuncs.com/images/cover9.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Stream流式编程"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/04/15/Stream%E6%B5%81%E5%BC%8F%E7%BC%96%E7%A8%8B/" title="Stream流式编程">Stream流式编程</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-04-15T11:27:02.000Z" title="发表于 2022-04-15 19:27:02">2022-04-15</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-04-15T11:31:40.025Z" title="更新于 2022-04-15 19:31:40">2022-04-15</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Stream/">Stream</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/java/">java</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/Stream/">Stream</a></span></div><div class="content">概要stream是用于对迭代器的增强，使之完成更高效的聚合操作（过滤，排序，统计分组）或者大批量数据操作。
stream和lambada表示结合后会大大提升编程效率。
通过将集合转换为这么一种叫做 “流” 的元素序列，通过声明性方式，能够对集合中的每个元素进行一系列并行或串行的流水线操作。
比如过滤保留部分元素、对元素进行排序、类型转换等；最后再进行一个终端操作，可以把 Stream 转换回集合类型，也可以直接对其中的各个元素进行处理，比如打印、比如计算总数、计算最大值等等。

一分类Stream提供方法很多，按照调用当前方法是否结束流处理，可以分为中间操作和结束操作。


1中间操作
无状态操作：指当前元素的操作不受前面元素的影响，前后数据是否有依赖关系。
有状态操作：指当前元素的操作需要等所有元素处理完之后才能进行。

比如说：sort(),distinct()需要知道先前的数才能操作，属于有状态操作
2结束操作
短路操作:指不需要处理完全部的元素就可以结束。
非短路操作: 指必须处理完所有元素才能结束。





3Stream流的三种创建方式123456789101112131 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2022/04/15/JVM-04%E8%99%9A%E6%8B%9F%E6%9C%BA%E6%A0%88/" title="JVM-04虚拟机栈"><img class="post_bg" src="https://blog-chy-lua.oss-cn-shanghai.aliyuncs.com/images/cover7.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="JVM-04虚拟机栈"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/04/15/JVM-04%E8%99%9A%E6%8B%9F%E6%9C%BA%E6%A0%88/" title="JVM-04虚拟机栈">JVM-04虚拟机栈</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-04-15T00:42:55.000Z" title="发表于 2022-04-15 08:42:55">2022-04-15</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-04-15T00:44:53.689Z" title="更新于 2022-04-15 08:44:53">2022-04-15</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/JVM/">JVM</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/java/">java</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/JVM/">JVM</a></span></div><div class="content">4虚拟机栈1简介1.1虚拟机栈的出现背景
由于跨平台性的设计，Java的指令都是根据栈来设计的。不同平台CPU架构不同，所以不能设计为基于寄存器的【如果设计成基于寄存器的，耦合度高，性能会有所提升，因为可以对具体的CPU架构进行优化，但是跨平台性大大降低】。
优点是跨平台，指令集小，编译器容易实现，缺点是性能下降，实现同样的功能需要更多的指令。

1.2内存中的栈与堆
首先栈是运行时的单位，而堆是存储的单位。
即：栈解决程序的运行问题，即程序如何执行，或者说如何处理数据。堆解决的是数据存储的问题，即数据怎么放，放哪里


1.3虚拟机栈基本内容Java虚拟机栈是什么？

Java虚拟机栈（Java Virtual Machine Stack），早期也叫Java栈。每个线程在创建时都会创建一个虚拟机栈，其内部保存一个个的栈帧（Stack Frame），对应着一次次的Java方法调用，栈是线程私有的,一个栈帧对应一个方法

12345678910111213141516171819public class StackTest &#123;    public static void mai ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2022/04/11/Mysql-04%E8%BF%90%E7%AE%97%E7%AC%A6/" title="Mysql_04运算符"><img class="post_bg" src="https://blog-chy-lua.oss-cn-shanghai.aliyuncs.com/images/cover16.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Mysql_04运算符"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/04/11/Mysql-04%E8%BF%90%E7%AE%97%E7%AC%A6/" title="Mysql_04运算符">Mysql_04运算符</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-04-10T16:46:03.000Z" title="发表于 2022-04-11 00:46:03">2022-04-11</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-04-10T16:48:24.209Z" title="更新于 2022-04-11 00:48:24">2022-04-11</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Mysql/">Mysql</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/Mysql/">Mysql</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/sql/">sql</a></span></div><div class="content">4_运算符1. 算术运算符算术运算符主要用于数学运算，其可以连接运算符前后的两个数值或表达式，对数值或表达式进行加
（+）、减（-）、乘（*）、除（&#x2F;）和取模（%）运算。

1.1．加法与减法运算符1234567mysql&gt; SELECT 100, 100 + 0, 100 - 0, 100 + 50, 100 + 50 -30, 100 + 35.5, 100 - 35.5 FROM dual; +-----+---------+---------+----------+--------------+------------+------------+ | 100 | 100 + 0 | 100 - 0 | 100 + 50 | 100 + 50 -30 | 100 + 35.5 | 100 - 35.5 | +-----+---------+---------+----------+--------------+------------+------------+ | 100 | 100 	 	| 100 		| 150 		 | 120				  | 135.5  ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2022/04/10/Mysql-03%E5%9F%BA%E6%9C%AC%E7%9A%84select%E8%AF%AD%E5%8F%A5/" title="Mysql_03基本的select语句"><img class="post_bg" src="https://blog-chy-lua.oss-cn-shanghai.aliyuncs.com/images/cover11.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Mysql_03基本的select语句"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/04/10/Mysql-03%E5%9F%BA%E6%9C%AC%E7%9A%84select%E8%AF%AD%E5%8F%A5/" title="Mysql_03基本的select语句">Mysql_03基本的select语句</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-04-09T16:39:04.000Z" title="发表于 2022-04-10 00:39:04">2022-04-10</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-04-09T16:40:32.381Z" title="更新于 2022-04-10 00:40:32">2022-04-10</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Mysql/">Mysql</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/Mysql/">Mysql</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/sql/">sql</a></span></div><div class="content">3._基本的SELECT语句1. SQL概述1.1 SQL背景知识
1946 年，世界上第一台电脑诞生，如今，借由这台电脑发展起来的互联网已经自成江湖。在这几十
年里，无数的技术、产业在这片江湖里沉浮，有的方兴未艾，有的已经几幕兴衰。但在这片浩荡的
波动里，有一门技术从未消失，甚至“老当益壮”，那就是 SQL。

45 年前，也就是 1974 年，IBM 研究员发布了一篇揭开数据库技术的论文《SEQUEL：一门结构
化的英语查询语言》，直到今天这门结构化的查询语言并没有太大的变化，相比于其他语
言， SQL 的半衰期可以说是非常长 了。



不论是前端工程师，还是后端算法工程师，都一定会和数据打交道，都需要了解如何又快又准确地
提取自己想要的数据。更别提数据分析师了，他们的工作就是和数据打交道，整理不同的报告，以
便指导业务决策。

SQL（Structured Query Language，结构化查询语言）是使用关系模型的数据库应用语言， 与数据直 
接打交道 ，由 IBM 上世纪70年代开发出来。后由美国国家标准局（ANSI）开始着手制定SQL标准，
先后有 SQL-86 ， S ...</div></div></div><nav id="pagination"><div class="pagination"><span class="page-number current">1</span><a class="page-number" href="/page/2/#content-inner">2</a><a class="extend next" rel="next" href="/page/2/#content-inner"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://blog-chy-lua.oss-cn-shanghai.aliyuncs.com/images/touxiang.jpeg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">chy_lua</div><div class="author-info__description">好看的皮囊、有趣的灵魂、优美的代码</div></div><div class="card-info-data is-center"><div class="card-info-data-item"><a href="/archives/"><div class="headline">文章</div><div class="length-num">16</div></a></div><div class="card-info-data-item"><a href="/tags/"><div class="headline">标签</div><div class="length-num">8</div></a></div><div class="card-info-data-item"><a href="/categories/"><div class="headline">分类</div><div class="length-num">7</div></a></div></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/dgggj"><i class="fab fa-github"></i><span>我的 GitHub</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/dgggj" target="_blank" title="GitHub"><i class="fab fa-github"></i></a><a class="social-icon" href="/1164695032" target="_blank" title="QQ：1164695032"><i class="fab fa-qq"></i></a><a class="social-icon" href="https://blog.csdn.net/weixin_44815328" target="_blank" title="我的CSDN"><i class="fa fa-address-card"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">春风也有春风忧</div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2022/09/17/%E8%99%9A%E6%8B%9F%E6%9C%BA%E7%AF%87-1/" title="虚拟机篇-1"><img src="https://blog-chy-lua.oss-cn-shanghai.aliyuncs.com/images/a3.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="虚拟机篇-1"/></a><div class="content"><a class="title" href="/2022/09/17/%E8%99%9A%E6%8B%9F%E6%9C%BA%E7%AF%87-1/" title="虚拟机篇-1">虚拟机篇-1</a><time datetime="2022-09-17T14:53:57.000Z" title="发表于 2022-09-17 22:53:57">2022-09-17</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/09/13/day2%E7%94%A8%E5%8F%8B/" title="day2用友"><img src="https://blog-chy-lua.oss-cn-shanghai.aliyuncs.com/images/a2.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="day2用友"/></a><div class="content"><a class="title" href="/2022/09/13/day2%E7%94%A8%E5%8F%8B/" title="day2用友">day2用友</a><time datetime="2022-09-13T14:33:27.000Z" title="发表于 2022-09-13 22:33:27">2022-09-13</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/09/08/%E9%9D%A2%E8%AF%951/" title="面试1"><img src="https://blog-chy-lua.oss-cn-shanghai.aliyuncs.com/images/a5.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="面试1"/></a><div class="content"><a class="title" href="/2022/09/08/%E9%9D%A2%E8%AF%951/" title="面试1">面试1</a><time datetime="2022-09-08T14:44:20.000Z" title="发表于 2022-09-08 22:44:20">2022-09-08</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/08/03/Java%E5%86%85%E5%AD%98%E6%A8%A1%E5%9E%8B-JMM/" title="Java内存模型-JMM"><img src="https://blog-chy-lua.oss-cn-shanghai.aliyuncs.com/images/a15.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Java内存模型-JMM"/></a><div class="content"><a class="title" href="/2022/08/03/Java%E5%86%85%E5%AD%98%E6%A8%A1%E5%9E%8B-JMM/" title="Java内存模型-JMM">Java内存模型-JMM</a><time datetime="2022-08-03T15:49:55.000Z" title="发表于 2022-08-03 23:49:55">2022-08-03</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/07/27/23%E7%A7%8D%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" title="23种设计模式"><img src="https://blog-chy-lua.oss-cn-shanghai.aliyuncs.com/images/a9.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="23种设计模式"/></a><div class="content"><a class="title" href="/2022/07/27/23%E7%A7%8D%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" title="23种设计模式">23种设计模式</a><time datetime="2022-07-27T15:34:29.000Z" title="发表于 2022-07-27 23:34:29">2022-07-27</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/07/12/%E7%BA%BF%E7%A8%8B%E7%9A%84%E5%85%AD%E7%A7%8D%E7%8A%B6%E6%80%81%EF%BC%88java%EF%BC%89/" title="线程的六种状态（java）"><img src="https://blog-chy-lua.oss-cn-shanghai.aliyuncs.com/images/a10.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="线程的六种状态（java）"/></a><div class="content"><a class="title" href="/2022/07/12/%E7%BA%BF%E7%A8%8B%E7%9A%84%E5%85%AD%E7%A7%8D%E7%8A%B6%E6%80%81%EF%BC%88java%EF%BC%89/" title="线程的六种状态（java）">线程的六种状态（java）</a><time datetime="2022-07-12T15:17:12.000Z" title="发表于 2022-07-12 23:17:12">2022-07-12</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/04/15/Stream%E6%B5%81%E5%BC%8F%E7%BC%96%E7%A8%8B/" title="Stream流式编程"><img src="https://blog-chy-lua.oss-cn-shanghai.aliyuncs.com/images/cover9.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Stream流式编程"/></a><div class="content"><a class="title" href="/2022/04/15/Stream%E6%B5%81%E5%BC%8F%E7%BC%96%E7%A8%8B/" title="Stream流式编程">Stream流式编程</a><time datetime="2022-04-15T11:27:02.000Z" title="发表于 2022-04-15 19:27:02">2022-04-15</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/04/15/JVM-04%E8%99%9A%E6%8B%9F%E6%9C%BA%E6%A0%88/" title="JVM-04虚拟机栈"><img src="https://blog-chy-lua.oss-cn-shanghai.aliyuncs.com/images/cover7.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="JVM-04虚拟机栈"/></a><div class="content"><a class="title" href="/2022/04/15/JVM-04%E8%99%9A%E6%8B%9F%E6%9C%BA%E6%A0%88/" title="JVM-04虚拟机栈">JVM-04虚拟机栈</a><time datetime="2022-04-15T00:42:55.000Z" title="发表于 2022-04-15 08:42:55">2022-04-15</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/04/11/Mysql-04%E8%BF%90%E7%AE%97%E7%AC%A6/" title="Mysql_04运算符"><img src="https://blog-chy-lua.oss-cn-shanghai.aliyuncs.com/images/cover16.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Mysql_04运算符"/></a><div class="content"><a class="title" href="/2022/04/11/Mysql-04%E8%BF%90%E7%AE%97%E7%AC%A6/" title="Mysql_04运算符">Mysql_04运算符</a><time datetime="2022-04-10T16:46:03.000Z" title="发表于 2022-04-11 00:46:03">2022-04-11</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/04/10/Mysql-03%E5%9F%BA%E6%9C%AC%E7%9A%84select%E8%AF%AD%E5%8F%A5/" title="Mysql_03基本的select语句"><img src="https://blog-chy-lua.oss-cn-shanghai.aliyuncs.com/images/cover11.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Mysql_03基本的select语句"/></a><div class="content"><a class="title" href="/2022/04/10/Mysql-03%E5%9F%BA%E6%9C%AC%E7%9A%84select%E8%AF%AD%E5%8F%A5/" title="Mysql_03基本的select语句">Mysql_03基本的select语句</a><time datetime="2022-04-09T16:39:04.000Z" title="发表于 2022-04-10 00:39:04">2022-04-10</time></div></div></div></div><div class="card-widget" id="card-newest-comments"><div class="item-headline"><i class="fas fa-comment-dots"></i><span>最新评论</span></div><div class="aside-list"><span>正在加载中...</span></div></div><div class="card-widget card-categories"><div class="item-headline">
            <i class="fas fa-folder-open"></i>
            <span>分类</span>
            
            </div>
            <ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/JVM/"><span class="card-category-list-name">JVM</span><span class="card-category-list-count">3</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Mysql/"><span class="card-category-list-name">Mysql</span><span class="card-category-list-count">3</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Stream/"><span class="card-category-list-name">Stream</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/linux/"><span class="card-category-list-name">linux</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/spring/"><span class="card-category-list-name">spring</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E4%B8%8E%E7%BD%91%E7%BB%9C/"><span class="card-category-list-name">计算机与网络</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E9%9D%A2%E8%AF%95%E9%A2%98/"><span class="card-category-list-name">面试题</span><span class="card-category-list-count">6</span></a></li>
            </ul></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>标签</span></div><div class="card-tag-cloud"><a href="/tags/java/" style="font-size: 1.45em; color: rgb(184, 51, 145)">java</a><a href="/tags/%E9%9D%A2%E8%AF%95%E9%A2%98/" style="font-size: 1.35em; color: rgb(170, 76, 81)">面试题</a><a href="/tags/Mysql/" style="font-size: 1.25em; color: rgb(57, 54, 118)">Mysql</a><a href="/tags/sql/" style="font-size: 1.25em; color: rgb(42, 100, 99)">sql</a><a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/" style="font-size: 1.15em; color: rgb(180, 32, 130)">计算机网络</a><a href="/tags/JVM/" style="font-size: 1.25em; color: rgb(64, 164, 125)">JVM</a><a href="/tags/Stream/" style="font-size: 1.15em; color: rgb(7, 24, 195)">Stream</a><a href="/tags/linux/" style="font-size: 1.15em; color: rgb(72, 143, 192)">linux</a></div></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>归档</span></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/09/"><span class="card-archive-list-date">九月 2022</span><span class="card-archive-list-count">3</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/08/"><span class="card-archive-list-date">八月 2022</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/07/"><span class="card-archive-list-date">七月 2022</span><span class="card-archive-list-count">2</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/04/"><span class="card-archive-list-date">四月 2022</span><span class="card-archive-list-count">10</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>网站资讯</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">文章数目 :</div><div class="item-count">16</div></div><div class="webinfo-item"><div class="item-name">已运行时间 :</div><div class="item-count" id="runtimeshow" data-publishDate="2022-03-26T16:00:00.000Z"></div></div><div class="webinfo-item"><div class="item-name">本站总字数 :</div><div class="item-count">71.9k</div></div><div class="webinfo-item"><div class="item-name">本站访客数 :</div><div class="item-count" id="busuanzi_value_site_uv"></div></div><div class="webinfo-item"><div class="item-name">本站总访问量 :</div><div class="item-count" id="busuanzi_value_site_pv"></div></div><div class="webinfo-item"><div class="item-name">最后更新时间 :</div><div class="item-count" id="last-push-date" data-lastPushDate="2022-09-17T14:59:58.039Z"></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2022 By chy_lua</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">本地搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.js"></script><script>function panguFn () {
  if (typeof pangu === 'object') pangu.autoSpacingPage()
  else {
    getScript('https://cdn.jsdelivr.net/npm/pangu/dist/browser/pangu.min.js')
      .then(() => {
        pangu.autoSpacingPage()
      })
  }
}

function panguInit () {
  if (false){
    GLOBAL_CONFIG_SITE.isPost && panguFn()
  } else {
    panguFn()
  }
}

document.addEventListener('DOMContentLoaded', panguInit)</script><script src="/js/search/local-search.js"></script><script>var preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")

  }
}
window.addEventListener('load',preloader.endLoading())</script><div class="js-pjax"><script>function subtitleType () {
  getScript('https://yijuzhan.com/api/word.php?m=js').then(() => {
    const con = str[0]
    if (true) {
      const from = '出自 ' + str[1]
      const sub = ["春风无忧"]
      sub.unshift(con, from)
      window.typed = new Typed('#subtitle', {
        strings: sub,
        startDelay: 300,
        typeSpeed: 150,
        loop: true,
        backSpeed: 50,
      })
    } else {
      document.getElementById('subtitle').innerHTML = con
    }
  })
}

if (true) {
  if (typeof Typed === 'function') {
    subtitleType()
  } else {
    getScript('https://cdn.jsdelivr.net/npm/typed.js/lib/typed.min.js').then(subtitleType)
  }
} else {
  subtitleType()
}
</script></div><script src="https://cdn.jsdelivr.net/npm/blueimp-md5/js/md5.min.js"></script><script>window.addEventListener('load', () => {
  const changeContent = (content) => {
    if (content === '') return content

    content = content.replace(/<img.*?src="(.*?)"?[^\>]+>/ig, '[图片]') // replace image link
    content = content.replace(/<a[^>]+?href=["']?([^"']+)["']?[^>]*>([^<]+)<\/a>/gi, '[链接]') // replace url
    content = content.replace(/<pre><code>.*?<\/pre>/gi, '[代码]') // replace code
    content = content.replace(/<[^>]+>/g,"") // remove html tag

    if (content.length > 150) {
      content = content.substring(0,150) + '...'
    }
    return content
  }

  const getIcon = (icon, mail) => {
    if (icon) return icon
    let defaultIcon = '?d=monsterid'
    let iconUrl = `https://gravatar.loli.net/avatar/${md5(mail.toLowerCase()) + defaultIcon}`
    return iconUrl
  }

  const generateHtml = array => {
    let result = ''

    if (array.length) {
      for (let i = 0; i < array.length; i++) {
        result += '<div class=\'aside-list-item\'>'

        if (true) {
          const name = 'src'
          result += `<a href='${array[i].url}' class='thumbnail'><img ${name}='${array[i].avatar}' alt='${array[i].nick}'></a>`
        }

        result += `<div class='content'>
        <a class='comment' href='${array[i].url}' title='${array[i].content}'>${array[i].content}</a>
        <div class='name'><span>${array[i].nick} / </span><time datetime="${array[i].date}">${btf.diffDate(array[i].date, true)}</time></div>
        </div></div>`
      }
    } else {
      result += '没有评论'
    }

    let $dom = document.querySelector('#card-newest-comments .aside-list')
    $dom.innerHTML= result
    window.lazyLoadInstance && window.lazyLoadInstance.update()
    window.pjax && window.pjax.refresh($dom)
  }

  const getComment = () => {
    const serverURL = 'https://d3y3vwy1.lc-cn-n1-shared.com'

    var settings = {
      "method": "GET",
      "headers": {
        "X-LC-Id": 'D3Y3VWy1E6v4DoAxLrzURxcJ-gzGzoHsz',
        "X-LC-Key": 'uhb7m9SRGYt3VOuoNbD2HSzC',
        "Content-Type": "application/json"
      },
    }

    fetch(`${serverURL}/1.1/classes/Comment?limit=6&order=-createdAt`,settings)
      .then(response => response.json())
      .then(data => {
        const valineArray = data.results.map(function (e) {
          return {
            'avatar': getIcon(e.QQAvatar, e.mail),
            'content': changeContent(e.comment),
            'nick': e.nick,
            'url': e.url + '#' + e.objectId,
            'date': e.updatedAt,
          }
        })
        saveToLocal.set('valine-newest-comments', JSON.stringify(valineArray), 10/(60*24))
        generateHtml(valineArray)
      }).catch(e => {
        const $dom = document.querySelector('#card-newest-comments .aside-list')
        $dom.innerHTML= "无法获取评论，请确认相关配置是否正确"
      }) 
  }

  const newestCommentInit = () => {
    if (document.querySelector('#card-newest-comments .aside-list')) {
      const data = saveToLocal.get('valine-newest-comments')
      if (data) {
        generateHtml(JSON.parse(data))
      } else {
        getComment()
      }
    }
  }

  newestCommentInit()
  document.addEventListener('pjax:complete', newestCommentInit)
})</script><script src="https://cdn.jsdelivr.net/npm/pjax/pjax.min.js"></script><script>let pjaxSelectors = ["title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]

var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {

  // removeEventListener scroll 
  window.tocScrollFn && window.removeEventListener('scroll', window.tocScrollFn)
  window.scrollCollect && window.removeEventListener('scroll', scrollCollect)

  typeof preloader === 'object' && preloader.initLoading()
  document.getElementById('rightside').style.cssText = "opacity: ''; transform: ''"
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')

})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof chatBtnFn === 'function' && chatBtnFn()
  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()

  typeof preloader === 'object' && preloader.endLoading()
})

document.addEventListener('pjax:error', (e) => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>